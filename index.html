<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            padding: 16px;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 12px;
            color: #0088cc;
        }

        .balance {
            font-size: 20px;
            font-weight: bold;
            color: #0088cc;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .tab-btn.active {
            background: #0088cc;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .section h2 {
            font-size: 18px;
            margin-bottom: 16px;
        }

        input, select, button {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        button {
            background: #0088cc;
            color: white;
            border: none;
            font-weight: 600;
            cursor: pointer;
        }

        button:hover {
            background: #006699;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</h1>
        <div class="balance">–ë–∞–ª–∞–Ω—Å: <span id="balance">0 ‚ÇΩ</span></div>
    </div>

    <div class="tabs">
        <button class="tab-btn active" onclick="showTab('income')">–î–æ—Ö–æ–¥—ã</button>
        <button class="tab-btn" onclick="showTab('debts')">–î–æ–ª–≥–∏</button>
        <button class="tab-btn" onclick="showTab('investments')">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</button>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞ –î–æ—Ö–æ–¥—ã -->
    <div id="income-tab" class="tab-content active">
        <div class="section">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</h2>
            <input type="number" id="income-amount" placeholder="–°—É–º–º–∞">
            <select id="income-period">
                <option value="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</option>
                <option value="monthly">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
            </select>
            <button onclick="addIncome()">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</button>
        </div>

        <div class="section">
            <h2>–ö–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å</h2>
            <p>–î–æ–ª–≥–∏: <span id="debt-percent">30</span>%</p>
            <p>–†–∞—Å—Ö–æ–¥—ã: <span id="expenses-percent">40</span>%</p>
            <p>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: <span id="invest-percent">30</span>%</p>
            <button onclick="updateDistribution()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</button>
        </div>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞ –î–æ–ª–≥–∏ -->
    <div id="debts-tab" class="tab-content">
        <div class="section">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥</h2>
            <input type="text" id="debt-name" placeholder="–ö–æ–º—É –¥–æ–ª–∂–Ω—ã">
            <input type="number" id="debt-amount" placeholder="–°—É–º–º–∞ –¥–æ–ª–≥–∞">
            <button onclick="addDebt()">–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥</button>
        </div>

        <div class="section">
            <h2>–°–ø–∏—Å–æ–∫ –¥–æ–ª–≥–æ–≤</h2>
            <div id="debts-list">–ù–µ—Ç –¥–æ–ª–≥–æ–≤</div>
        </div>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ -->
    <div id="investments-tab" class="tab-content">
        <div class="section">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—é</h2>
            <input type="text" id="invest-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
            <input type="number" id="invest-amount" placeholder="–°—É–º–º–∞">
            <button onclick="addInvestment()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>

        <div class="section">
            <h2>–ú–æ–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</h2>
            <div id="investments-list">–ù–µ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π</div>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function showTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.getElementById('income-tab').classList.remove('active');
            document.getElementById('debts-tab').classList.remove('active');
            document.getElementById('investments-tab').classList.remove('active');
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // –î–µ–ª–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–π –Ω–∞–∂–∞—Ç—É—é –∫–Ω–æ–ø–∫—É
            event.target.classList.add('active');
        }

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
        let balance = 0;
        let debts = [];
        let investments = [];
        let distribution = {
            debts: 30,
            expenses: 40,
            investments: 30
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function updateBalance() {
            document.getElementById('balance').textContent = balance + ' ‚ÇΩ';
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–≥
        function formatMoney(amount) {
            return amount + ' ‚ÇΩ';
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞
        function addIncome() {
            let amount = document.getElementById('income-amount').value;
            let period = document.getElementById('income-period').value;
            
            if (amount && amount > 0) {
                balance = balance + Number(amount);
                updateBalance();
                document.getElementById('income-amount').value = '';
                alert('–î–æ—Ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω!');
            } else {
                alert('–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
        function updateDistribution() {
            // –ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
            alert('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ');
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–≥–∞
        function addDebt() {
            let name = document.getElementById('debt-name').value;
            let amount = document.getElementById('debt-amount').value;
            
            if (name && amount && amount > 0) {
                let debt = {
                    id: Date.now(),
                    name: name,
                    amount: Number(amount),
                    remaining: Number(amount)
                };
                
                debts.push(debt);
                updateDebtsList();
                
                document.getElementById('debt-name').value = '';
                document.getElementById('debt-amount').value = '';
            } else {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–ª–≥–æ–≤
        function updateDebtsList() {
            let list = document.getElementById('debts-list');
            
            if (debts.length === 0) {
                list.innerHTML = '–ù–µ—Ç –¥–æ–ª–≥–æ–≤';
                return;
            }
            
            let html = '';
            for (let debt of debts) {
                html += '<div style="border:1px solid #ddd; padding:10px; margin-bottom:10px; border-radius:8px;">';
                html += '<p><strong>' + debt.name + '</strong></p>';
                html += '<p>–î–æ–ª–≥: ' + formatMoney(debt.remaining) + '</p>';
                html += '<button onclick="payDebt(' + debt.id + ')">–û–ø–ª–∞—Ç–∏—Ç—å</button> ';
                html += '<button onclick="deleteDebt(' + debt.id + ')" style="background:#f44336;">–£–¥–∞–ª–∏—Ç—å</button>';
                html += '</div>';
            }
            
            list.innerHTML = html;
        }

        // –û–ø–ª–∞—Ç–∞ –¥–æ–ª–≥–∞
        function payDebt(id) {
            let amount = prompt('–°–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç–∏–º?');
            if (amount && amount > 0) {
                for (let i = 0; i < debts.length; i++) {
                    if (debts[i].id === id) {
                        debts[i].remaining -= Number(amount);
                        balance -= Number(amount);
                        
                        if (debts[i].remaining <= 0) {
                            debts.splice(i, 1);
                        }
                        
                        updateBalance();
                        updateDebtsList();
                        break;
                    }
                }
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–ª–≥–∞
        function deleteDebt(id) {
            debts = debts.filter(debt => debt.id !== id);
            updateDebtsList();
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
        function addInvestment() {
            let name = document.getElementById('invest-name').value;
            let amount = document.getElementById('invest-amount').value;
            
            if (name && amount && amount > 0) {
                let invest = {
                    id: Date.now(),
                    name: name,
                    amount: Number(amount)
                };
                
                investments.push(invest);
                updateInvestmentsList();
                
                document.getElementById('invest-name').value = '';
                document.getElementById('invest-amount').value = '';
            } else {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
        function updateInvestmentsList() {
            let list = document.getElementById('investments-list');
            
            if (investments.length === 0) {
                list.innerHTML = '–ù–µ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π';
                return;
            }
            
            let html = '';
            for (let inv of investments) {
                html += '<div style="border:1px solid #ddd; padding:10px; margin-bottom:10px; border-radius:8px;">';
                html += '<p><strong>' + inv.name + '</strong></p>';
                html += '<p>–°—É–º–º–∞: ' + formatMoney(inv.amount) + '</p>';
                html += '<button onclick="deleteInvestment(' + inv.id + ')" style="background:#f44336;">–£–¥–∞–ª–∏—Ç—å</button>';
                html += '</div>';
            }
            
            list.innerHTML = html;
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
        function deleteInvestment(id) {
            investments = investments.filter(inv => inv.id !== id);
            updateInvestmentsList();
        }

        // Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.ready();
    </script>
</body>
</html>